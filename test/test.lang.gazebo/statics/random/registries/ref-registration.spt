language gazebo
module statics/random/registries/ref-registration

fixture [[
module test:test
[[...]]
]]

// FIXME: this is broke due to NSID-NSIDi conversion in Statix
//test refer correctly [[
//static registry $<[[testns:testname]]>
//{
//    register [[testns2:itemname]] { protocol_id 42 }
//}
//func refer
//{
//    const res := $<[[testns:testname]]>[[testns2:itemname]]
//}
//]] analysis succeeds
//   resolve #3 to #1
//   resolve #4 to #2
